(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,a,t){e.exports=t.p+"static/media/Salty-Salt.cf2704ce.png"},13:function(e,a,t){e.exports=t(32)},20:function(e,a,t){},29:function(e,a,t){},32:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),i=t(2),c=t.n(i),l=t(4),r=t.n(l),o=(t(20),t(7)),m=t(8),u=t(11),d=t(9),g=t(12),h=t(1),f=t(3),p=t.n(f);var v=function(e,a){return a>1?"".concat(e,"s"):e},b=(t(29),t(10)),E=t.n(b),w=function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(u.a)(this,Object(d.a)(a).call(this))).state={files:[]},e.uploadImage=e.uploadImage.bind(Object(h.a)(Object(h.a)(e))),e.handleImageChange=e.handleImageChange.bind(Object(h.a)(Object(h.a)(e))),e.handlePaste=e.handlePaste.bind(Object(h.a)(Object(h.a)(e))),e}return Object(g.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getImages()}},{key:"getImages",value:function(){var e=this;fetch("/api/images").then(function(e){return e.json()}).then(function(a){e.setState(a)}).catch(function(e){console.log(e)})}},{key:"handleImageChange",value:function(e){e.preventDefault(),this.setState({filePreview:URL.createObjectURL(e.target.files[0]),fileToUpload:e.target.files[0]})}},{key:"handlePaste",value:function(e){var a=e.clipboardData.items[0].getAsFile();this.setState({fileToUpload:a,filePreview:URL.createObjectURL(a)})}},{key:"uploadImage",value:function(e){var a=this;e.preventDefault();var t=new FormData;t.append("image",this.state.fileToUpload),fetch("/api/image",{method:"POST",body:t}).then(function(e){200===e.status?(a.setState({message:"Image was successfully uploaded..."}),setTimeout(function(){a.setState({message:null})},3e3)):e.json().then(function(e){var t=e.message;a.setState({error:"Error! ".concat(t)}),setTimeout(function(){a.setState({error:null})},3e3)})})}},{key:"render",value:function(){var e=this.state.numberOfPendingFiles;return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"pending-images"},e," ",v("image",e)," pending verification."),s.a.createElement("div",{className:"title"},s.a.createElement("img",{src:E.a,className:"salt-image"})," ",s.a.createElement("span",null,"UPLOAD THE SALT")),this.state.message?s.a.createElement("div",{className:"success-message"},this.state.message," "):s.a.createElement("div",null),this.state.error?s.a.createElement("div",{className:"error-message"},this.state.error," "):s.a.createElement("div",null),s.a.createElement("form",{className:"image-form",onSubmit:this.uploadImage,encType:"multipart/form-data"},s.a.createElement("span",null,"You can also paste your screenshot in the box underneath"),s.a.createElement("div",{className:"paste-area",onPaste:this.handlePaste},s.a.createElement("img",{className:"image",src:this.state.filePreview})),s.a.createElement("input",{type:"file",onChange:this.handleImageChange,name:"image"}),s.a.createElement("input",{type:"submit",className:"submit",value:"Upload"})),s.a.createElement("div",{className:"image-container"},this.state.files.map(function(e){return s.a.createElement(p.a,{height:200,offset:100,once:!0},s.a.createElement("a",{href:"/uploads/"+e}," ",s.a.createElement("img",{className:"image",src:"/uploads/"+e})))})))}}]),a}(n.Component);r.a.initialize("UA-128904986-1"),r.a.pageview(window.location.pathname+window.location.search),c.a.render(s.a.createElement(w,null),document.getElementById("root"))}},[[13,2,1]]]);
//# sourceMappingURL=main.bd31c2b2.chunk.js.map