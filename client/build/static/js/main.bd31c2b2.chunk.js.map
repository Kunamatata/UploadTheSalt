{"version":3,"sources":["images/Salty-Salt.png","helpers/pluralize.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","pluralize","word","count","concat","App","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","files","uploadImage","bind","assertThisInitialized","handleImageChange","handlePaste","getImages","_this2","fetch","then","response","json","data","setState","catch","e","console","log","preventDefault","filePreview","URL","createObjectURL","target","fileToUpload","file","clipboardData","items","getAsFile","_this3","formData","FormData","append","method","body","status","message","setTimeout","_ref","error","numberOfPendingFiles","react_default","a","createElement","className","src","saltImage","onSubmit","encType","onPaste","type","onChange","name","value","map","lib_default","height","offset","once","href","Component","ReactGA","initialize","pageview","window","location","pathname","search","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.bd31c2b2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Salty-Salt.cf2704ce.png\";","function pluralize(word, count){\n    return count > 1 ? `${word}s` : word;\n}\n\nexport default pluralize;","import React, { Component } from 'react';\nimport LazyLoad from 'react-lazyload';\n\nimport pluralize from './helpers/pluralize';\nimport './App.css';\nimport saltImage from './images/Salty-Salt.png'\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = { files: [] };\n    this.uploadImage = this.uploadImage.bind(this);\n    this.handleImageChange = this.handleImageChange.bind(this);\n    this.handlePaste = this.handlePaste.bind(this);\n  }\n\n  componentDidMount() {\n    this.getImages();\n  }\n\n  getImages(){\n    fetch('/api/images').then(response => {\n      return response.json();\n    }).then(data => {\n      this.setState(data);\n    }).catch(e => {\n      console.log(e)\n    })\n  }\n\n  handleImageChange(e) {\n    e.preventDefault();\n    this.setState({\n      filePreview: URL.createObjectURL(e.target.files[0]),\n      fileToUpload: e.target.files[0]\n    })\n  }\n\n  handlePaste(e){\n    const file = e.clipboardData.items[0].getAsFile();\n    this.setState({fileToUpload: file, filePreview: URL.createObjectURL(file  )})\n  }\n\n  uploadImage(e) {\n    e.preventDefault();\n    let formData = new FormData();\n\n    formData.append('image', this.state.fileToUpload);\n    fetch('/api/image', {\n      method: 'POST',\n      body: formData\n    }).then(response => {\n      if (response.status === 200) {\n        this.setState({ message: \"Image was successfully uploaded...\" })\n        setTimeout(() => {\n          this.setState({ message: null })\n        }, 3000);\n      }\n      else {\n        response.json().then(({ message }) => {\n          this.setState({ error: `Error! ${message}` });\n          setTimeout(() => {\n            this.setState({ error: null })\n          }, 3000)\n        })\n\n      }\n    });\n  }\n\n  render() {\n    const {numberOfPendingFiles} = this.state;\n    return (\n      <div className=\"App\">\n      <div className=\"pending-images\">{numberOfPendingFiles} {pluralize('image', numberOfPendingFiles)} pending verification.</div>\n      <div className=\"title\">\n        <img src={saltImage} className=\"salt-image\"/> <span>UPLOAD THE SALT</span>\n      </div>\n        {this.state.message ? <div className=\"success-message\">{this.state.message} </div> : <div></div> }\n        {this.state.error ? <div className=\"error-message\">{this.state.error} </div> : <div></div> }\n        <form className=\"image-form\" onSubmit={this.uploadImage} encType=\"multipart/form-data\">\n        <span>You can also paste your screenshot in the box underneath</span>\n      <div className=\"paste-area\" onPaste={this.handlePaste}><img className=\"image\" src={this.state.filePreview}/></div>\n            <input type=\"file\" onChange={this.handleImageChange} name=\"image\" />\n            <input type=\"submit\" className=\"submit\" value=\"Upload\"/>\n        </form>\n        <div className=\"image-container\">\n          {this.state.files.map(file => {\n              return (<LazyLoad height={200} offset={100} once><a href={\"/uploads/\" + file} > <img className=\"image\" src={\"/uploads/\" + file} /></a></LazyLoad>)\n            })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport ReactGA from 'react-ga';\n\nimport './index.css';\nimport App from './App';\n\nReactGA.initialize('UA-128904986-1');\nReactGA.pageview(window.location.pathname + window.location.search);\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}